apiVersion: training.eduk8s.io/v1alpha1
kind: TrainingPortal
metadata:
  name: jfrog-pipelines-fundamentals
spec:
  portal:
    title: JFrog Pipelines Workshops
    logo: https://github.com/lsilvapvt/jfrog-automation-workshop/raw/main/workshop/content/images/Jfrog_Green_RGB.png
    password: superfr0g
    ingress:
      domain: edu.workshops.zone
      hostname: jfrog
      class: contour
    registration:
      type: anonymous
    sessions:
      maximum: 1  
    catalog:
      visibility: public
  workshops:
  - name: jfrog-pipelines-fundamentals
    capacity: 1
    expires: 4h
    orphaned: 15m
    env:
    - name: LAB_SLOT_ID
      value: #@ labenv.env_id
    - name: LAB_USERNAME
      value: #@ labenv.env_username
    - name: LAB_PASSWORD
      value: #@ labenv.env_password
    - name: JFROG_URL
      value: #@ labenv.jfrog_url
    - name: JFROG_PROTOCOL
      value: #@ labenv.jfrog_protocol
    - name: JFROG_ACCESSTOKEN
      value: #@ labenv.jfrog_accesstoken    
    - name: LAB_SESSION_ID
      value: $(session_id)
